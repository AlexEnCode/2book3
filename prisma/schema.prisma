generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model HumanInformations {
  UUID        String        @id @default(uuid()) @db.Uuid
  first_name  String        @db.Varchar(20)
  last_name   String        @db.Varchar(30)
  Authors     Authors[]
  Borrowers   Borrowers[]
  Employees   Employees[]
}

model Authors {
  UUID               String             @id @default(uuid()) @db.Uuid
  humanInformationId String             @db.Uuid
  first_name         String             @db.Varchar(20)
  last_name          String             @db.Varchar(30)
  humanInformation   HumanInformations  @relation(fields: [humanInformationId], references: [UUID])
  Books              Books[]
}

model Borrowers {
  UUID               String             @id @default(uuid()) @db.Uuid
  humanInformationId String             @db.Uuid
  first_name         String             @db.Varchar(20)
  last_name          String             @db.Varchar(30)
  humanInformation   HumanInformations  @relation(fields: [humanInformationId], references: [UUID])
  Borrows            Borrows[]
}

model Employees {
  UUID               String             @id @default(uuid()) @db.Uuid
  mail_address       String             @db.Varchar(80)
  password           String             @db.Varchar(72)
  humanInformationId String             @db.Uuid
  first_name         String             @db.Varchar(20)
  last_name          String             @db.Varchar(30)
  humanInformation   HumanInformations  @relation(fields: [humanInformationId], references: [UUID])
  Borrows            Borrows[]
}

model Books {
  UUID          String   @id @default(uuid()) @db.Uuid
  name          String   @db.Varchar(40)
  description   String   @db.Text
  authorId      String   @db.Uuid
  borrowId      String   @db.Uuid
  author        Authors  @relation(fields: [authorId], references: [UUID])
  borrow        Borrows  @relation(fields: [borrowId], references: [UUID])
}

model Borrows {
  UUID          String      @id @default(uuid()) @db.Uuid
  status        Int         @db.Int
  started_at    DateTime    @default(now())
  end_at        DateTime    @default(now())
  employeeId    String      @db.Uuid
  borrowerId    String      @db.Uuid
  employee      Employees   @relation(fields: [employeeId], references: [UUID])
  borrower      Borrowers   @relation(fields: [borrowerId], references: [UUID])
  Books         Books[]
}
